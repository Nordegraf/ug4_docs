<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>ug4: Statistics Utility</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extra_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ug4
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>ug4</span></a></li>
      <li class="current"><a href="usergroup0.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li class="current"><a href="modules.html"><span>All</span></a></li>
      <li><a href="group__ugbase.html"><span>ugBase</span></a></li>
      <li><a href="group__lib__algebra.html"><span>libAlgebra</span></a></li>
      <li><a href="group__lib__discretization.html"><span>libDiscretization</span></a></li>
      <li><a href="group__lib__grid.html"><span>libGrid</span></a></li>
      <li><a href="plugins/group__plugins.html"><span>Plugins</span></a></li>
      <li><a href="regdocu/namespaceug4_bridge.html"><span>Registry</span></a></li>
      <li><a href="group__scripts.html"><span>Scripts</span></a></li>
      <li><a href="apps/group__apps.html"><span>Apps</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__scripts__util__stats.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Statistics Utility</div>  </div>
</div><!--header-->
<div class="contents">
<dl class="section author"><dt>Author</dt><dd>Martin Rupp</dd></dl>
<p>This file and the comments are intended to make your life easier when you want to do several runs of a script and you need to evaluate data from the runs, like compare solution times for different number of refinements. First you need to know, what statistics you want to output and compare. Imagine you want to run laplace.lua for several different numRefs or even num procs, and results should be saved in a file "stats.txt", so that you can use in a spreadsheet. The stats format is as follows: it is an array, consisting of entries {description, content} So we need to add to our laplace.lua file the following lines: </p><div class="fragment"><div class="line">stats = { {<span class="stringliteral">&quot;procs&quot;</span>, GetNumProcesses()}, {<span class="stringliteral">&quot;numRefs&quot;</span>, numRefs}, {<span class="stringliteral">&quot;steps&quot;</span>, convCheck:step()}, {<span class="stringliteral">&quot;SVN Revision&quot;</span>, <a class="codeRef" doxygen="/home/sreiter/projects/ug4-docu/ugcore/docs/plugins.tags:../plugins/" href="../plugins/group__misc__bridge.html#ga2e3d09a57d4d391a2cd6e38464f70abc">GetSVNRevision</a>()} }</div><div class="line">     util.writeFileStats(stats, <span class="stringliteral">&quot;stats.txt&quot;</span>)</div></div><!-- fragment --><p> after 2 runs, the file stats.txt looks as follows </p><pre class="fragment">procs   numRefs   steps   SVN Revision
4   8   6   4459M
16  9   6   4459M
</pre><p> Note that a heading "procs  numRefs..." is added to the file if it is empty. All items are seperated by default by " \t", but you can choose different seperators. You can copy and paste the data in most spreadsheet applications like OpenOffice Calc, Excel and Apple Numbers. If you wish a brief table result description of the current task, you can use </p><div class="fragment"><div class="line">util.printStats(stats)</div></div><!-- fragment --><p> which prints </p><pre class="fragment">  procs: 4
  numRefs: 16
  steps: 6
  SVN Revision: 4459M
  to the console
</pre><p>For boolean values, use <code>tostring(bExternalCoarsening)</code> -&gt; "true" / "false". You can seperate your runs by date with the following example bash script: </p><div class="fragment"><div class="line">mydate=`date +%Y-%m-%d-%H.%M.%S`</div><div class="line">mkdir $mydate</div><div class="line"><span class="keywordflow">for</span> i in {3..6}</div><div class="line"><span class="keywordflow">do</span></div><div class="line">   ./ugshell -ex mycheck.lua -outdir $mydate/ -logtofile $mydate/mycheck${i} -numRefs $i</div><div class="line">done</div></div><!-- fragment --><p> and in you lua-file, you could use <code>util.writeFileStats(stats, util.GetParam("-outdir", "").."stats.txt")</code>. Instead of defining -logtofile from the shell, you could also make something like <code><a class="elRef" doxygen="/home/sreiter/projects/ug4-docu/ugcore/docs/plugins.tags:../plugins/" href="../plugins/group__ugbase__common.html#ga196c4cf75549d65de84def6692f4fd43">GetLogAssistant()</a>:enable_file_output(true, util.GetParam("-outdir". "").."check_numRefs"..numRefs.."_procs"..procs..".txt")</code> </p>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Jan 13 2016 12:42:55 for ug4 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
